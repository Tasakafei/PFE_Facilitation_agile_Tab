/**
 * Created by user on 28/11/16.
 */

'use strict';

var app = angular.module('facilitation');
app.service('WorkshopsProvider', function ($http) {
    this.getWorkshops = function (callback) {
        var mockedWorkshops = {"state":"success","data":[
            {"_id":"583bfeb6ecff901bffdb50ee","title":"Paper Plane Factory","__v":0,"content":{"participants_profil":[],"logistics":[],"equipment":"<ul><li>Autant d’îlots de tables (2 tables == un site de prod) que d’équipes (6 ou 7 max)</li> <li>Une “piste d’essai” au fond de la salle (tables en long)</li> <li>Un stock de matières premières (brouillons d’examen) sur le devant de la salle</li> <li>Une feuille “plan d’avion” par équipe</li> <li>Un ordi + vidéoprojecteur pour remplir l’excel de suivi et afficher le chrono</li> <li>Quelques feuilles de couleur différentes pour les dernières itérations</li> <li>Balle de parole pour le débrief final</li> <li>Grosses poubelles pour jeter les avions construits</li></ul>","educational_aims":["Travail itératif","Amélioration continue","Prévisions","Rétrospective"],"folklore":"L’armée de l’air norvégienne cherche à remplacer un sous-ensemble de sa flotte. Chaque équipe (de 3-4 participants) représente un constructeur aérien, dont l’objectif est de remporter le marché. L’armée achètera auprès du constructeur capable de fabriquer le plus d’avion possible, de la manière la plus prévisible possible.","source":"http://agileway.com.br/2009/11/16/the-airplane-factory-game/ ","steps":[{"title":"Intro","timing":0,"duration":5,"_id":"583bfeb6ecff901bffdb50f9","description":"Présenter le folklore de l’atelier, les notions travaillées, pourquoi c’est important dans leur projet. Parler du fait que l’atelier est une métaphore, qu’ils retireront de cet atelier ce qu’ils auront investi dedans."},{"title":"Essai","timing":5,"duration":2,"_id":"583bfeb6ecff901bffdb50f8","description":"“Fabrique moi un avion”. Chaque constructeur a 2 minutes pour construire un avion. Éluder les questions posées par les équipes, en insistant sur le fait que c’est eux les constructeurs d’avion."},{"title":"Debrief","timing":7,"duration":5,"_id":"583bfeb6ecff901bffdb50f7","description":"Regarder les avions fabriqués. Rejeter les avions pour des raisons de plus ou moins bonne fois: <ul><li>Est-ce qu’il vole ?</li> <li>Est-ce qu’il a un cockpit pour mettre le pilote ?</li> <li>Est-ce qu’il y a une porte pour faire rentrer les gens ?</li> <li>Est-ce qu’il y a des hublots pour voir dehors ?</li> <li>Est-ce qu’on peut peindre mon logo sur les ailes ?</li> <li>...</li></ul>"},{"title":"Prototype","timing":13,"duration":5,"_id":"583bfeb6ecff901bffdb50f6","description":"<ol><li>Distribuer la spécification de l’avion commandé par l’armée.</li> <li>Laisser 2 minutes pour  fabriquer un avion.</li> <li>Une fois fini, laisser une minute pour donner une estimation de combien d’avion pourront être construit en deux minutes.</li> <li>Noter l’estimé dans l’excel de suivi</li></ol>"},{"title":"Itération 1","timing":18,"duration":8,"_id":"583bfeb6ecff901bffdb50f5","description":"Annoncer un jeu de contraintes imprévues: <ul><li>Pas le droit de stocker des matières premières sur le site;</li> <li>Une chaîne de production (pas de construction en parallèle)</li> <li>12 hublots (6 de chaque côté)</li> <li>Un cockpit et au moins une porte</li> <li>Logo de la compagnie sur les ailes</li> <li>L’avion doit supporter un vol d’essai sur la piste</li> <li>On peut garder un avion “incomplet” sur la chaîne d’une itération à l’autre</li></ul> Revoir les estimations. Lancer la phase de construction (2 minutes). Récupérer les nombres d’avion livrés, les noter dans le excel.<br /><br />  Laisser 2 minutes de débriefing interne aux équipes. Ils doivent donner à la fin une nouvelle estimation pour l’itération suivante. Rappeler que le contrat sera remporté par le constructeur qui construit le plus d’avion, mais aussi de la manière la plus prévisible (donc avec les meilleurs estimations). Jeter les avions construits pendant le débriefing (ménage en cours de route).<br /><br />  Les pousser à s’améliorer en donnant le record obtenu (44 avions construits en 5 itérations)"},{"title":"Itération 2","timing":26,"duration":5,"_id":"583bfeb6ecff901bffdb50f4","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ul>"},{"title":"Itération 3","timing":31,"duration":5,"_id":"583bfeb6ecff901bffdb50f3","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ol> <i>Ajouter pendant le débrief quelques feuilles de couleur différentes</i>"},{"title":"Itération 4","timing":36,"duration":5,"_id":"583bfeb6ecff901bffdb50f2","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés. Annoncer au choix :</li> <ol type=\"a\"><li>“Les avions de couleurs ≠ ne sont pas conforme”</li> <li>ou “Les avions de couleurs ≠ compte double”</li></ol> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ol>"},{"title":"Itération 5","timing":41,"duration":5,"_id":"583bfeb6ecff901bffdb50f1","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ul>"},{"title":"Debrief","timing":46,"duration":10,"_id":"583bfeb6ecff901bffdb50f0","description":"Mettre tous les participants debout en rond dans la salle (où dehors s’il fait beau). Utiliser une balle de parole pour  faire circuler la parole dans le groupe. Questions potentielle pour alimenter le débat: <ul><li>Est-ce que la création du prototype a aidée ?</li> <li>Comment ont évolués les estimations des prototypes ?</li> <li>Rôle des rétrospective dans le processus ?</li> <li>Comment avoir vécu les contraintes qui apparaissent ?</li> <li>Sentiment vis à vis des différents cycles ?</li> <li>Rôle dans l’équipe ? Évolution avec les rétrospectives ?</li> <li>Lien avec</li></ul>"},{"timing":56,"_id":"583bfeb6ecff901bffdb50ef","description":"<center><b>Fin de l’atelier</center></b>"}]},"preparation_time":30,"synopsis":"L’armée de l’air norvégienne cherche à remplacer un sous-ensemble de sa flotte. Chaque équipe (de 3-4 participants) représente un constructeur aérien, dont l’objectif est de remporter le marché. L’armée achètera auprès du constructeur capable de fabriquer le plus d’avion possible, de la manière la plus prévisible possible.","time_max":60,"time_min":60,"public_targeted":"Tous","participants_min":3,"participants_max":-1,"goals":[],"workshop_type":"Production","photo":"http://localhost:3000/img/atelier1.jpg","author":"Sébastien Mosser"}
        ]};

        callback(mockedWorkshops);
    };

    this.getWorkshopById = function(idWorkshop, callback){
        var mockedWorkshop = {"_id":"583bfeb6ecff901bffdb50ee","title":"Paper Plane Factory","__v":0,"content":{"participants_profil":[],"logistics":[],"equipment":"<ul><li>Autant d’îlots de tables (2 tables == un site de prod) que d’équipes (6 ou 7 max)</li> <li>Une “piste d’essai” au fond de la salle (tables en long)</li> <li>Un stock de matières premières (brouillons d’examen) sur le devant de la salle</li> <li>Une feuille “plan d’avion” par équipe</li> <li>Un ordi + vidéoprojecteur pour remplir l’excel de suivi et afficher le chrono</li> <li>Quelques feuilles de couleur différentes pour les dernières itérations</li> <li>Balle de parole pour le débrief final</li> <li>Grosses poubelles pour jeter les avions construits</li></ul>","educational_aims":["Travail itératif","Amélioration continue","Prévisions","Rétrospective"],"folklore":"L’armée de l’air norvégienne cherche à remplacer un sous-ensemble de sa flotte. Chaque équipe (de 3-4 participants) représente un constructeur aérien, dont l’objectif est de remporter le marché. L’armée achètera auprès du constructeur capable de fabriquer le plus d’avion possible, de la manière la plus prévisible possible.","source":"http://agileway.com.br/2009/11/16/the-airplane-factory-game/ ","steps":[{"title":"Intro","timing":0,"duration":5,"_id":"583bfeb6ecff901bffdb50f9","description":"Présenter le folklore de l’atelier, les notions travaillées, pourquoi c’est important dans leur projet. Parler du fait que l’atelier est une métaphore, qu’ils retireront de cet atelier ce qu’ils auront investi dedans."},{"title":"Essai","timing":5,"duration":2,"_id":"583bfeb6ecff901bffdb50f8","description":"“Fabrique moi un avion”. Chaque constructeur a 2 minutes pour construire un avion. Éluder les questions posées par les équipes, en insistant sur le fait que c’est eux les constructeurs d’avion."},{"title":"Debrief","timing":7,"duration":5,"_id":"583bfeb6ecff901bffdb50f7","description":"Regarder les avions fabriqués. Rejeter les avions pour des raisons de plus ou moins bonne fois: <ul><li>Est-ce qu’il vole ?</li> <li>Est-ce qu’il a un cockpit pour mettre le pilote ?</li> <li>Est-ce qu’il y a une porte pour faire rentrer les gens ?</li> <li>Est-ce qu’il y a des hublots pour voir dehors ?</li> <li>Est-ce qu’on peut peindre mon logo sur les ailes ?</li> <li>...</li></ul>"},{"title":"Prototype","timing":13,"duration":5,"_id":"583bfeb6ecff901bffdb50f6","description":"<ol><li>Distribuer la spécification de l’avion commandé par l’armée.</li> <li>Laisser 2 minutes pour  fabriquer un avion.</li> <li>Une fois fini, laisser une minute pour donner une estimation de combien d’avion pourront être construit en deux minutes.</li> <li>Noter l’estimé dans l’excel de suivi</li></ol>"},{"title":"Itération 1","timing":18,"duration":8,"_id":"583bfeb6ecff901bffdb50f5","description":"Annoncer un jeu de contraintes imprévues: <ul><li>Pas le droit de stocker des matières premières sur le site;</li> <li>Une chaîne de production (pas de construction en parallèle)</li> <li>12 hublots (6 de chaque côté)</li> <li>Un cockpit et au moins une porte</li> <li>Logo de la compagnie sur les ailes</li> <li>L’avion doit supporter un vol d’essai sur la piste</li> <li>On peut garder un avion “incomplet” sur la chaîne d’une itération à l’autre</li></ul> Revoir les estimations. Lancer la phase de construction (2 minutes). Récupérer les nombres d’avion livrés, les noter dans le excel.<br /><br />  Laisser 2 minutes de débriefing interne aux équipes. Ils doivent donner à la fin une nouvelle estimation pour l’itération suivante. Rappeler que le contrat sera remporté par le constructeur qui construit le plus d’avion, mais aussi de la manière la plus prévisible (donc avec les meilleurs estimations). Jeter les avions construits pendant le débriefing (ménage en cours de route).<br /><br />  Les pousser à s’améliorer en donnant le record obtenu (44 avions construits en 5 itérations)"},{"title":"Itération 2","timing":26,"duration":5,"_id":"583bfeb6ecff901bffdb50f4","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ul>"},{"title":"Itération 3","timing":31,"duration":5,"_id":"583bfeb6ecff901bffdb50f3","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ol> <i>Ajouter pendant le débrief quelques feuilles de couleur différentes</i>"},{"title":"Itération 4","timing":36,"duration":5,"_id":"583bfeb6ecff901bffdb50f2","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés. Annoncer au choix :</li> <ol type=\"a\"><li>“Les avions de couleurs ≠ ne sont pas conforme”</li> <li>ou “Les avions de couleurs ≠ compte double”</li></ol> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ol>"},{"title":"Itération 5","timing":41,"duration":5,"_id":"583bfeb6ecff901bffdb50f1","description":"<ol><li>Phase de construction (2 minutes)</li> <li>Noter le nb de produits livrés</li> <li>Phase de débrief (2 minutes)</li> <li>Noter les estimations</li></ul>"},{"title":"Debrief","timing":46,"duration":10,"_id":"583bfeb6ecff901bffdb50f0","description":"Mettre tous les participants debout en rond dans la salle (où dehors s’il fait beau). Utiliser une balle de parole pour  faire circuler la parole dans le groupe. Questions potentielle pour alimenter le débat: <ul><li>Est-ce que la création du prototype a aidée ?</li> <li>Comment ont évolués les estimations des prototypes ?</li> <li>Rôle des rétrospective dans le processus ?</li> <li>Comment avoir vécu les contraintes qui apparaissent ?</li> <li>Sentiment vis à vis des différents cycles ?</li> <li>Rôle dans l’équipe ? Évolution avec les rétrospectives ?</li> <li>Lien avec</li></ul>"},{"timing":56,"_id":"583bfeb6ecff901bffdb50ef","description":"<center><b>Fin de l’atelier</center></b>"}]},"preparation_time":30,"synopsis":"L’armée de l’air norvégienne cherche à remplacer un sous-ensemble de sa flotte. Chaque équipe (de 3-4 participants) représente un constructeur aérien, dont l’objectif est de remporter le marché. L’armée achètera auprès du constructeur capable de fabriquer le plus d’avion possible, de la manière la plus prévisible possible.","time_max":60,"time_min":60,"public_targeted":"Tous","participants_min":3,"participants_max":-1,"goals":[],"workshop_type":"Production","photo":"http://localhost:3000/img/atelier1.jpg","author":"Sébastien Mosser"};

        callback(mockedWorkshop);
    };
});